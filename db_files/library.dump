CREATE TABLE users 
(id serial PRIMARY KEY,
 name varchar(20) NOT NULL,
 surname varchar(20) NOT NULL,
 pin varchar(11) NOT NULL UNIQUE CHECK(LENGTH(pin)=11),
 email varchar(35) NOT NULL UNIQUE,
 passwd varchar(100) NOT NULL CHECK (LENGTH(passwd) > 4),
 is_admin boolean
);


INSERT INTO users (name, surname, pin, email, passwd, is_admin)
VALUES
('Dawid', 'Jakóbczak', '12345678912', 'djak@gmail.com', '12345', true);

INSERT INTO users (name, surname, pin, email, passwd, is_admin)
VALUES
('Ewelina', 'Kropka-Nowakowska', '12345678913', 'kropka_nowak@gmail.com', '12345', false);

--- hashed_pw = '$2b$12$I7W8Q3SOF4WmcH/Y5jLqse6gFNT.HZiwxQCAPV3MWCQKGzCCIyplO'

CREATE TABLE books 
(bid serial PRIMARY KEY,
 title varchar(100) NOT NULL,
 author varchar(60) NOT NULL,
 category varchar(30) NOT NULL,
 count smallint NOT NULL CHECK(count > -1),
 description varchar(1000),
 UNIQUE(title, author)
);

INSERT INTO books (title, author, count, category, description)
VALUES
('Książka 1', 'Autor A', 10, 'nieznana', '');

INSERT INTO books (title, author, count, category, description)
VALUES
('Książka 2', 'Autor B', 5, 'nieznana', '');

INSERT INTO books (title, author, count, category, description)
VALUES
('Książka 3', 'Autor A', 3, 'nieznana', '');


INSERT INTO books (title, author, count, category, description)
VALUES
('Śniegu nie będzie', 'Pogoda', 1, 'lieteratura faktu', '');


INSERT INTO books (title, author, count, category, description)
VALUES
('2020', 'Autor B', 3, 'dramat', '');

INSERT INTO books (title, author, count, category, description)
VALUES
('Jak przetrwać?', 'Student pierwszego roku', 1, 'poradnik', '');

INSERT INTO books (title, author, count, category, description)
VALUES
('Przyjdę w kwietniu', 'Ś.Nieg', 100, 'lieteratura faktu', 'Nikt się go nie spodziewał, a jednak przyszedł i zaskoczył kierowców');


